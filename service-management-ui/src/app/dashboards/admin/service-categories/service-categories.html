<div class="page">

  <h2 class="title">Service Categories</h2>

  <!-- Add / Edit Form -->
  <form
    [formGroup]="categoryForm"
    (ngSubmit)="submit()"
    class="form-row">

    <mat-form-field appearance="outline">
      <mat-label>Category Name</mat-label>
      <input matInput formControlName="categoryName">
    </mat-form-field>

    <button mat-raised-button color="primary">
      {{ isEditMode ? 'Update' : 'Add' }}
    </button>

    <button
      mat-button
      type="button"
      *ngIf="isEditMode"
      (click)="resetForm()">
      Cancel
    </button>
  </form>

  <!-- Header Row -->
  <div class="list header">
    <span>Category</span>
    <span>Actions</span>
  </div>

  <!-- Rows -->
  <div
    class="list row"
    *ngFor="let c of pagedCategories">

    <span class="name">{{ c.categoryName }}</span>

    <div class="actions">

      <!-- MAT SLIDE TOGGLE -->
      <mat-slide-toggle
        color="primary"
        [checked]="c.isActive"
        [disabled]="c._loading"
        (change)="onToggleCategory(c, $event)">
      </mat-slide-toggle>

      <!-- Edit -->
      <button
        mat-icon-button
        color="primary"
        [disabled]="!c.isActive"
        (click)="edit(c)">
        <mat-icon>edit</mat-icon>
      </button>

    </div>
  </div>

  <!-- MAT PAGINATOR -->
  <mat-paginator
    [length]="categories.length"
    [pageSize]="pageSize"
    [pageIndex]="pageIndex"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    (page)="onPageChange($event)">
  </mat-paginator>

</div>
